{
  "fileTypes": [
    "d",
    "di"
  ],
  "name": "D",
  "scopeName": "source.d",
  "patterns": [
    {
      "include": "#comment"
    },
    {
      "include": "#type"
    },
    {
      "include": "#statement"
    },
    {
      "include": "#expression"
    }
  ],
  "repository": {
    "type": {
      "patterns": [
        {
          "include": "#base-type"
        },
        {
          "include": "#defined-type"
        },
        {
          "include": "#type-ctor"
        },
        {
          "include": "#typeof"
        }
      ]
    },
    "base-type": {
      "patterns": [
        {
          "match": "(auto|bool|byte|ubyte|short|ushort|int|uint|long|ulong|char|wchar|dchar|float|double|real|ifloat|idouble|ireal|cfloat|cdouble|creal|void)\\**(?!\\w)",
          "name": "storage.type.basic-type.d"
        }
      ]
    },
    "defined-type": {
      "patterns": [
        {
          "match": "(wstring|dstring|string|size_t|ptrdiff_t)\\**(?!\\w)",
          "name": "storage.type.defined.d"
        }
      ]
    },
    "extended-type": {
      "patterns": [
        {
          "begin": "\\[",
          "beginCaptures": {
            "0": {
              "name": "storage.type.array.expression.begin.d"
            }
          },
          "end": "\\]",
          "endCaptures": {
            "0": {
              "name": "storage.type.array.expression.end.d"
            }
          },
          "patterns": [
            {
              "match": "\\.\\.|\\$",
              "name": "keyword.operator.slice.d"
            },
            {
              "include": "#type"
            },
            {
              "include": "#expression"
            }
          ]
        }
      ]
    },
    "type-ctor": {
      "patterns": [
        {
          "match": "(const|immutable|inout|shared)(?!\\w)",
          "name": "storage.type.modifier.d"
        }
      ]
    },
    "typeof": {
      "begin": "typeof\\s+\\(",
      "end": "\\)",
      "name": "storage.type.typeof.d",
      "patterns": [
        {
          "match": "return",
          "name": "keyword.control.return.d"
        },
        {
          "include": "#expression"
        }
      ]
    },
    "expression": {
      "patterns": [
        {
          "include": "#index-expression"
        },
        {
          "include": "#lambda"
        },
        {
          "include": "#function-literal"
        },
        {
          "include": "#assert-expression"
        },
        {
          "include": "#assign-expression"
        },
        {
          "include": "#mixin-expression"
        },
        {
          "include": "#import-expression"
        },
        {
          "include": "#traits-expression"
        },
        {
          "include": "#typeid-expression"
        },
        {
          "include": "#shift-expression"
        },
        {
          "include": "#logical-expression"
        },
        {
          "include": "#rel-expression"
        },
        {
          "include": "#bitwise-expression"
        },
        {
          "include": "#identity-expression"
        },
        {
          "include": "#in-expression"
        },
        {
          "include": "#conditional-expression"
        },
        {
          "include": "#arithmetic-expression"
        },
        {
          "include": "#new-expression"
        },
        {
          "include": "#delete-expression"
        },
        {
          "include": "#cast-expression"
        },
        {
          "include": "#type-specialization"
        },
        {
          "include": "#comma"
        },
        {
          "include": "#special-keyword"
        },
        {
          "include": "#functions"
        },
        {
          "include": "#lexical"
        }
      ]
    },
    "assign-expression": {
      "patterns": [
        {
          "match": ">>>=|\\^\\^=|>>=|<<=|~=|\\^=|\\|=|&=|%=|/=|\\*=|-=|\\+=|=",
          "name": "keyword.operator.assign.d"
        }
      ]
    },
    "conditional-expression": {
      "patterns": [
        {
          "match": "\\s(\\?|:)\\s",
          "name": "keyword.operator.expression.d"
        }
      ]
    },
    "logical-expression": {
      "patterns": [
        {
          "match": "\\|\\||&&|==|!=|!",
          "name": "keyword.operator.logical.d"
        }
      ]
    },
    "bitwise-expression": {
      "patterns": [
        {
          "match": "\\||\\^|&",
          "name": "keyword.operator.bitwise.d"
        }
      ]
    },
    "identity-expression": {
      "patterns": [
        {
          "match": "\\s+(is|!is)\\s+",
          "name": "keyword.operator.identity.d"
        }
      ]
    },
    "rel-expression": {
      "patterns": [
        {
          "match": "!<>=|!<>|<>=|!>=|!<=|<=|>=|<>|!>|!<|<|>",
          "name": "keyword.operator.rel.d"
        }
      ]
    },
    "in-expression": {
      "patterns": [
        {
          "match": "\\s+(in|!in)\\s+",
          "name": "keyword.operator.in.d"
        }
      ]
    },
    "shift-expression": {
      "patterns": [
        {
          "match": "<<|>>|>>>",
          "name": "keyword.operator.shift.d"
        },
        {
          "include": "#add-expression"
        }
      ]
    },
    "arithmetic-expression": {
      "patterns": [
        {
          "match": "\\^\\^|\\+\\+|--|\\+|-|~|\\*|/|%",
          "name": "keyword.operator.add.d"
        }
      ]
    },
    "new-expression": {
      "patterns": [
        {
          "match": "new\\s+",
          "name": "keyword.other.new.d"
        }
      ]
    },
    "delete-expression": {
      "patterns": [
        {
          "match": "delete\\s+",
          "name": "keyword.other.delete.d"
        }
      ]
    },
    "cast-expression": {
      "patterns": [
        {
          "begin": "cast\\s*\\(",
          "beginCaptures": {
            "0": {
              "name": "support.type.cast.begin.d"
            }
          },
          "end": "\\)",
          "endCaptures": {
            "0": {
              "name": "support.type.cast.end.d"
            }
          },
          "patterns": [
            {
              "include": "#type"
            }
          ]
        }
      ]
    },
    "index-expression": {
      "patterns": [
        {
          "include": "#postfix-expression"
        },
        {
          "begin": "\\[",
          "end": "\\]",
          "patterns": [
            {
              "match": "\\.\\.|\\$",
              "name": "keyword.operator.slice.d"
            },
            {
              "include": "#type"
            },
            {
              "include": "#expression"
            }
          ]
        }
      ]
    },
    "function-literal": {
      "patterns": [
        {
          "match": "(function|delegate)",
          "name": "keyword.other.function-literal.d"
        }
      ]
    },
    "lambda": {
      "patterns": [
        {
          "match": "(?<=\\))\\s*=>",
          "name": "entity.name.function.lambda.d"
        }
      ]
    },
    "assert-expression": {
      "patterns": [
        {
          "begin": "assert\\s*\\(",
          "beginCaptures": {
            "0": {
              "name": "keyword.other.assert.begin.d"
            }
          },
          "end": "\\)",
          "endCaptures": {
            "0": {
              "name": "keyword.other.assert.end.d"
            }
          },
          "patterns": [
            {
              "include": "#expression"
            }
          ]
        }
      ]
    },
    "mixin-expression": {
      "patterns": [
        {
          "begin": "mixin\\s*\\(",
          "beginCaptures": {
            "0": {
              "name": "keyword.other.mixin.begin.d"
            }
          },
          "end": "\\)",
          "endCaptures": {
            "0": {
              "name": "keyword.other.mixin.end.d"
            }
          },
          "patterns": [
            {
              "include": "#expression"
            }
          ]
        }
      ]
    },
    "import-expression": {
      "patterns": [
        {
          "begin": "import\\s*(?=\\()",
          "beginCaptures": {
            "0": {
              "name": "keyword.other.import.begin.d"
            }
          },
          "end": "\\)",
          "endCaptures": {
            "0": {
              "name": "keyword.other.import.end.d"
            }
          },
          "patterns": [
            {
              "include": "#expression"
            }
          ]
        }
      ]
    },
    "typeid-expression": {
      "patterns": [
        {
          "match": "typeid\\s*(?=\\()",
          "name": "keyword.other.typeid.d"
        }
      ]
    },
    "type-specialization": {
      "patterns": [
        {
          "match": "(struct|union|class|interface|enum|function|delegate|super|const|immutable|inout|shared|return|__parameters)(?!\\w)",
          "name": "keyword.other.storage.type-specialization.d"
        }
      ]
    },
    "traits-expression": {
      "patterns": [
        {
          "begin": "__traits\\s*\\(",
          "beginCaptures": {
            "0": {
              "name": "keyword.other.traits.begin.d"
            }
          },
          "end": "\\)",
          "endCaptures": {
            "0": {
              "name": "keyword.other.traits.end.d"
            }
          },
          "patterns": [
            {
              "include": "#traits-keyword"
            },
            {
              "include": "#comma"
            },
            {
              "include": "#traits-argument"
            }
          ]
        }
      ]
    },
    "traits-keyword": {
      "patterns": [
        {
          "match": "isAbstractClass|isArithmetic|isAssociativeArray|isFinalClass|isPOD|isNested|isFloating|isIntegral|isScalar|isStaticArray|isUnsigned|isVirtualFunction|isVirtualMethod|isAbstractFunction|isFinalFunction|isStaticFunction|isOverrideFunction|isRef|isOut|isLazy|hasMember|identifier|getAliasThis|getAttributes|getMember|getOverloads|getProtection|getVirtualFunctions|getVirtualMethods|getUnitTests|parent|classInstanceSize|getVirtualIndex|allMembers|derivedMembers|isSame|compiles",
          "name": "support.constant.traits-keyword.d"
        }
      ]
    },
    "traits-arguments": {
      "patterns": [
        {
          "include": "#traits-argument"
        },
        {
          "include": "#comma"
        }
      ]
    },
    "traits-argument": {
      "patterns": [
        {
          "include": "#assign-expression"
        },
        {
          "include": "#type"
        }
      ]
    },
    "special-keyword": {
      "patterns": [
        {
          "match": "__FILE__|__MODULE__|__LINE__|__FUNCTION__|__PRETTY_FUNCTION__",
          "name": "constant.language.special-keyword.d"
        }
      ]
    },
    "statement": {
      "patterns": [
        {
          "include": "#non-block-statement"
        },
        {
          "include": "#semi-colon"
        }
      ]
    },
    "non-block-statement": {
      "patterns": [
        {
          "include": "#module-declaration"
        },
        {
          "include": "#labeled-statement"
        },
        {
          "include": "#declaration-statement"
        },
        {
          "include": "#if-statement"
        },
        {
          "include": "#while-statement"
        },
        {
          "include": "#do-statement"
        },
        {
          "include": "#for-statement"
        },
        {
          "include": "#foreach-statement"
        },
        {
          "include": "#switch-statement"
        },
        {
          "include": "#final-switch-statement"
        },
        {
          "include": "#case-statement"
        },
        {
          "include": "#continue-statement"
        },
        {
          "include": "#break-statement"
        },
        {
          "include": "#return-statement"
        },
        {
          "include": "#goto-statement"
        },
        {
          "include": "#with-statement"
        },
        {
          "include": "#synchronized-statement"
        },
        {
          "include": "#try-statement"
        },
        {
          "include": "#scope-guard-statement"
        },
        {
          "include": "#throw-statement"
        },
        {
          "include": "#finally-statement"
        },
        {
          "include": "#asm-statement"
        },
        {
          "include": "#pragma-statement"
        },
        {
          "include": "#mixin-statement"
        },
        {
          "include": "#conditional-statement"
        },
        {
          "include": "#static-assert"
        },
        {
          "include": "#deprecated-statement"
        },
        {
          "include": "#unit-test"
        }
      ]
    },
    "labeled-statement": {
      "patterns": [
        {
          "match": "[a-zA-Z_][a-zA-Z_0-9]*:",
          "name": "entity.name.d"
        }
      ]
    },
    "declaration-statement": {
      "patterns": [
        {
          "include": "#declaration"
        }
      ]
    },
    "if-statement": {
      "patterns": [
        {
          "match": "if\\s*(?=\\()",
          "name": "keyword.control.if.d"
        },
        {
          "match": "else",
          "name": "keyword.control.else.d"
        }
      ]
    },
    "while-statement": {
      "patterns": [
        {
          "match": "while\\s*(?=\\()",
          "name": "keyword.control.while.d"
        }
      ]
    },
    "do-statement": {
      "patterns": [
        {
          "match": "do\\s+",
          "name": "keyword.control.do.d"
        }
      ]
    },
    "for-statement": {
      "patterns": [
        {
          "match": "for\\s*(?=\\()",
          "name": "keyword.control.for.d"
        }
      ]
    },
    "foreach-statement": {
      "patterns": [
        {
          "match": "foreach\\s*(?=\\()",
          "name": "keyword.control.foreach.d"
        }
      ]
    },
    "switch-statement": {
      "patterns": [
        {
          "match": "switch\\s*(?=\\()",
          "name": "keyword.control.switch.d"
        }
      ]
    },
    "case-statement": {
      "patterns": [
        {
          "match": "case\\s+",
          "name": "keyword.control.case.range.d"
        },
        {
          "match": ":",
          "name": "keyword.control.case.colon.d"
        }
      ]
    },
    "case-range-statement": {
      "patterns": [
        {
          "match": "case\\s+",
          "name": "keyword.control.case.range.d"
        },
        {
          "match": ":",
          "name": "keyword.control.case.colon.d"
        },
        {
          "match": "\\.\\.\\s*case\\s+",
          "name": "keyword.control.case.range-2.d"
        }
      ]
    },
    "default-statement": {
      "patterns": [
        {
          "match": "default\\s+:\\s+",
          "name": "keyword.control.default.d"
        }
      ]
    },
    "final-switch-statement": {
      "patterns": [
        {
          "match": "final\\s+switch\\s*(?=\\()",
          "name": "keyword.control.final.switch.d"
        }
      ]
    },
    "continue-statement": {
      "patterns": [
        {
          "match": "continue",
          "name": "keyword.control.continue.d"
        }
      ]
    },
    "break-statement": {
      "patterns": [
        {
          "match": "break",
          "name": "keyword.control.break.d"
        }
      ]
    },
    "return-statement": {
      "patterns": [
        {
          "match": "return",
          "name": "keyword.control.return.d"
        }
      ]
    },
    "goto-statement": {
      "patterns": [
        {
          "match": "goto\\s+default",
          "name": "keyword.control.goto.d"
        },
        {
          "match": "goto\\s+case\\s+",
          "name": "keyword.control.goto.d"
        },
        {
          "match": "goto\\s+",
          "name": "keyword.control.goto.d"
        }
      ]
    },
    "with-statement": {
      "patterns": [
        {
          "match": "with\\s*(?=\\()",
          "name": "keyword.control.with.d"
        }
      ]
    },
    "synchronized-statement": {
      "patterns": [
        {
          "match": "synchronized\\s*(?=\\()",
          "name": "keyword.other.synchronized.d"
        }
      ]
    },
    "try-statement": {
      "patterns": [
        {
          "match": "try\\s+",
          "name": "keyword.control.try.d"
        }
      ]
    },
    "catches": {
      "patterns": [
        {
          "include": "#last-catch"
        },
        {
          "include": "#catch"
        }
      ]
    },
    "last-catch": {
      "patterns": [
        {
          "match": "catch\\s*(?=\\()",
          "name": "keyword.control.catch.d"
        }
      ]
    },
    "catch": {
      "patterns": [
        {
          "match": "catch\\s*(?=\\()",
          "name": "keyword.control.catch.d"
        }
      ]
    },
    "finally-statement": {
      "patterns": [
        {
          "match": "finally\\s+",
          "name": "keyword.control.throw.d"
        }
      ]
    },
    "throw-statement": {
      "patterns": [
        {
          "match": "throw\\s+",
          "name": "keyword.control.throw.d"
        }
      ]
    },
    "scope-guard-statement": {
      "patterns": [
        {
          "match": "scope\\s*\\((exit|success|failure)\\)\\s+",
          "name": "keyword.control.scope.d"
        }
      ]
    },
    "asm-statement": {
      "patterns": [
        {
          "begin": "asm\\s*\\{",
          "end": "\\}",
          "beginCaptures": {
            "0": {
              "name": "keyword.control.asm.begin.d"
            }
          },
          "endCaptures": {
            "0": {
              "name": "keyword.control.asm.end.d"
            }
          },
          "contentName": "gfm.markup.raw.assembly.d",
          "patterns": [
            {
              "include": "#asm-instruction"
            }
          ]
        }
      ]
    },
    "pragma-statement": {
      "patterns": [
        {
          "include": "#pragma"
        }
      ]
    },
    "mixin-statement": {
      "patterns": [
        {
          "begin": "mixin\\s*\\(",
          "beginCaptures": {
            "0": {
              "name": "keyword.control.mixin.begin.d"
            }
          },
          "end": "\\)",
          "endCaptures": {
            "0": {
              "name": "keyword.control.mixin.end.d"
            }
          },
          "patterns": [
            {
              "include": "#expression"
            }
          ]
        }
      ]
    },
    "deprecated-statement": {
      "patterns": [
        {
          "begin": "deprecated\\s*\\(",
          "beginCaptures": {
            "0": {
              "name": "keyword.other.deprecated.begin.d"
            }
          },
          "end": "\\)",
          "endCaptures": {
            "0": {
              "name": "keyword.other.deprecated.end.d"
            }
          },
          "patterns": [
            {
              "include": "#string-literal"
            }
          ]
        },
        {
          "match": "deprecated\\s*[^\\(]",
          "name": "keyword.other.deprecated.plain.d"
        }
      ]
    },
    "asm-instruction": {
      "patterns": [
        {
          "include": "#comment"
        },
        {
          "match": "align|even|naked|db|ds|di|dl|df|dd|de|:",
          "name": "keyword.asm-instruction.d"
        },
        {
          "match": "__LOCAL_SIZE",
          "name": "constant.language.assembly.d"
        },
        {
          "match": "offsetof|seg",
          "name": "support.type.assembly.d"
        },
        {
          "include": "#asm-type-prefix"
        },
        {
          "include": "#asm-primary-expression"
        },
        {
          "include": "#operands"
        },
        {
          "include": "#register"
        },
        {
          "include": "#register-64"
        },
        {
          "include": "#float-literal"
        },
        {
          "include": "#integer-literal"
        },
        {
          "include": "#identifier"
        }
      ]
    },
    "operands": {
      "patterns": [
        {
          "match": "\\?|:",
          "name": "keyword.operator.ternary.assembly.d"
        },
        {
          "match": "\\]|\\[",
          "name": "keyword.operator.bracket.assembly.d"
        },
        {
          "match": ">>>|\\|\\||&&|==|!=|<=|>=|<<|>>|\\||\\^|&|<|>|\\+|-|\\*|/|%|~|!",
          "name": "keyword.operator.assembly.d"
        }
      ]
    },
    "asm-type-prefix": {
      "patterns": [
        {
          "match": "(near\\s+ptr)|(far\\s+ptr)|(byte\\s+ptr)|(short\\s+ptr)|(int\\s+ptr)|(word\\s+ptr)|(dword\\s+ptr)|(qword\\s+ptr)|(float\\s+ptr)|(double\\s+ptr)|(real\\s+ptr)",
          "name": "support.type.asm-type-prefix.d"
        }
      ]
    },
    "register": {
      "patterns": [
        {
          "match": "XMM0|XMM1|XMM2|XMM3|XMM4|XMM5|XMM6|XMM7|MM0|MM1|MM2|MM3|MM4|MM5|MM6|MM7|ST\\(0\\)|ST\\(1\\)|ST\\(2\\)|ST\\(3\\)|ST\\(4\\)|ST\\(5\\)|ST\\(6\\)|ST\\(7\\)|ST|TR1|TR2|TR3|TR4|TR5|TR6|TR7|DR0|DR1|DR2|DR3|DR4|DR5|DR6|DR7|CR0|CR2|CR3|CR4|EAX|EBX|ECX|EDX|EBP|ESP|EDI|ESI|AL|AH|AX|BL|BH|BX|CL|CH|CX|DL|DH|DX|BP|SP|DI|SI|ES|CS|SS|DS|GS|FS",
          "name": "storage.type.assembly.register.d"
        }
      ]
    },
    "register-64": {
      "patterns": [
        {
          "match": "RAX|RBX|RCX|RDX|BPL|RBP|SPL|RSP|DIL|RDI|SIL|RSI|R8B|R8W|R8D|R8|R9B|R9W|R9D|R9|R10B|R10W|R10D|R10|R11B|R11W|R11D|R11|R12B|R12W|R12D|R12|R13B|R13W|R13D|R13|R14B|R14W|R14D|R14|R15B|R15W|R15D|R15|XMM8|XMM9|XMM10|XMM11|XMM12|XMM13|XMM14|XMM15|YMM0|YMM1|YMM2|YMM3|YMM4|YMM5|YMM6|YMM7|YMM8|YMM9|YMM10|YMM11|YMM12|YMM13|YMM14|YMM15",
          "name": "storage.type.assembly.register-64.d"
        }
      ]
    },
    "declaration": {
      "patterns": [
        {
          "include": "#alias-declaration"
        },
        {
          "include": "#aggregate-declaration"
        },
        {
          "include": "#enum-declaration"
        },
        {
          "include": "#import-declaration"
        },
        {
          "include": "#storage-class"
        },
        {
          "include": "#void-initializer"
        },
        {
          "include": "#mixin-declaration"
        }
      ]
    },
    "alias-declaration": {
      "patterns": [
        {
          "match": "(alias)\\s+(.+)(?=;)",
          "captures": {
            "1": {
              "name": "keyword.other.alias.d"
            },
            "2": {
              "name": "support.type.alias.d"
            }
          }
        }
      ]
    },
    "storage-class": {
      "patterns": [
        {
          "match": "(deprecated|enum|static|extern|abstract|final|override|synchronized|auto|scope|const|immutable|inout|shared|__gshared|nothrow|pure|ref)\\s+",
          "name": "storage.class.d"
        },
        {
          "include": "#linkage-attribute"
        },
        {
          "include": "#align-attribute"
        },
        {
          "include": "#property"
        }
      ]
    },
    "void-initializer": {
      "patterns": [
        {
          "match": "void",
          "name": "support.type.void.d"
        }
      ]
    },
    "functions": {
      "patterns": [
        {
          "include": "#function-attribute"
        },
        {
          "include": "#function-prelude"
        },
        {
          "include": "#function-parameters"
        }
      ]
    },
    "function-prelude": {
      "patterns": [
        {
          "match": "[_\\w][_\\d\\w]*\\s*(?=\\()",
          "name": "entity.name.function.d"
        }
      ]
    },
    "function-parameters": {
      "begin": "\\((?=.*(\\{|=>))",
      "beginCaptures": "entity.name.function.d",
      "end": "\\)",
      "endCaptures": "entity.name.function.d",
      "patterns": [
        {
          "include": "#parameters"
        }
      ]
    },
    "class-members": {
      "patterns": [
        {
          "include": "#shared-static-constructor"
        },
        {
          "include": "#shared-static-destructor"
        },
        {
          "include": "#constructor"
        },
        {
          "include": "#destructor"
        },
        {
          "include": "#postblit"
        },
        {
          "include": "#invariant"
        },
        {
          "include": "#member-function-attribute"
        }
      ]
    },
    "parameters": {
      "patterns": [
        {
          "match": ",",
          "name": "keyword.operator.comma.d"
        },
        {
          "include": "#parameter"
        }
      ]
    },
    "parameter": {
      "patterns": [
        {
          "include": "#in-out"
        },
        {
          "include": "#type"
        },
        {
          "match": "\\.\\.\\.",
          "name": "support.type.tuple.d"
        },
        {
          "match": "[R-Z]([0-9])?",
          "name": "variable.parameter.d"
        },
        {
          "match": "(\\.?[_\\w][_\\d\\w]*)+",
          "name": "variable.parameter.d"
        },
        {
          "include": "#lexical"
        }
      ]
    },
    "in-out": {
      "patterns": [
        {
          "match": "(auto|final|in|out|lazy|ref|scope)\\s+",
          "name": "storage.type.modifier.inout.d"
        }
      ]
    },
    "function-attribute": {
      "patterns": [
        {
          "match": "(nothrow|pure)\\s+",
          "name": "storage.type.modifier.function-attribute.d"
        },
        {
          "include": "#property"
        }
      ]
    },
    "member-function-attribute": {
      "patterns": [
        {
          "match": "(const|immutable|inout|shared)\\s+",
          "name": "storage.type.modifier.member-function-attribute"
        }
      ]
    },
    "function-body": {
      "patterns": [
        {
          "include": "#in-statement"
        },
        {
          "include": "#out-statement"
        },
        {
          "include": "#body-statement"
        },
        {
          "include": "#block-statement"
        }
      ]
    },
    "in-statement": {
      "patterns": [
        {
          "match": "in\\s+",
          "name": "#keyword.control.in.d"
        }
      ]
    },
    "out-statement": {
      "patterns": [
        {
          "begin": "out\\s*\\(",
          "beginCaptures": {
            "0": {
              "name": "keyword.control.out.begin.d"
            }
          },
          "end": "\\)",
          "endCaptures": {
            "0": {
              "name": "keyword.control.out.end.d"
            }
          },
          "patterns": [
            {
              "include": "#identifier"
            }
          ]
        },
        {
          "match": "out",
          "name": "keyword.control.out.d"
        }
      ]
    },
    "body-statement": {
      "patterns": [
        {
          "match": "body",
          "name": "keyword.control.body.d"
        }
      ]
    },
    "constructor": {
      "patterns": [
        {
          "match": "this",
          "name": "entity.name.function.constructor.d"
        }
      ]
    },
    "destructor": {
      "patterns": [
        {
          "match": "~this\\s*\\(\\s*\\)",
          "name": "#entity.name.class.destructor.d"
        }
      ]
    },
    "postblit": {
      "patterns": [
        {
          "match": "this\\s*\\(\\s*this\\s*\\)\\s",
          "name": "#entity.name.class.postblit.d"
        }
      ]
    },
    "invariant": {
      "patterns": [
        {
          "match": "invariant\\s*\\(\\s*\\)",
          "name": "entity.name.class.invariant.d"
        }
      ]
    },
    "unit-test": {
      "patterns": [
        {
          "match": "unittest",
          "name": "entity.name.function.unit-test.d"
        }
      ]
    },
    "shared-static-constructor": {
      "patterns": [
        {
          "match": "(shared\\s+)?static\\s+this\\s*\\(\\s*\\)",
          "name": "entity.name.class.constructor.shared-static.d"
        },
        {
          "include": "#function-body"
        }
      ]
    },
    "shared-static-destructor": {
      "patterns": [
        {
          "match": "(shared\\s+)?static\\s+~\\s*this\\s*\\(\\s*\\)",
          "name": "entity.name.class.destructor.static.d"
        }
      ]
    },
    "aggregate-declaration": {
      "patterns": [
        {
          "include": "#class-declaration"
        },
        {
          "include": "#interface-declaration"
        },
        {
          "include": "#struct-declaration"
        },
        {
          "include": "#union-declaration"
        },
        {
          "include": "#template-declaration"
        }
      ]
    },
    "class-declaration": {
      "patterns": [
        {
          "match": "(class)\\s+([A-Z][\\w_\\d]*)",
          "captures": {
            "1": {
              "name": "keyword.other.class.d"
            },
            "2": {
              "name": "entity.name.class.d"
            }
          }
        },
        {
          "include": "#protection-attribute"
        },
        {
          "include": "#class-members"
        }
      ]
    },
    "interface-declaration": {
      "patterns": [
        {
          "match": "interface",
          "name": "keyword.other.class.interface.d"
        }
      ]
    },
    "struct-declaration": {
      "patterns": [
        {
          "match": "struct",
          "name": "storage.type.struct.d"
        }
      ]
    },
    "union-declaration": {
      "patterns": [
        {
          "match": "union",
          "name": "storage.type.union.d"
        }
      ]
    },
    "enum-declaration": {
      "patterns": [
        {
          "match": "enum",
          "name": "storage.type.enum.d"
        }
      ]
    },
    "template-declaration": {
      "patterns": [
        {
          "match": "template",
          "name": "support.class.template.d"
        }
      ]
    },
    "attribute": {
      "patterns": [
        {
          "include": "#linkage-attribute"
        },
        {
          "include": "#align-attribute"
        },
        {
          "include": "#deprecated-attribute"
        },
        {
          "include": "#protection-attribute"
        },
        {
          "include": "#pragma"
        },
        {
          "match": "static|extern|abstract|final|override|synchronized|auto|scope|const|immutable|inout|shared|__gshared|nothrow|pure|ref",
          "name": "entity.other.attribute-name.d"
        },
        {
          "include": "#property"
        }
      ]
    },
    "linkage-attribute": {
      "patterns": [
        {
          "begin": "extern\\s*\\(\\s*C\\+\\+,",
          "beginCaptures": {
            "0": {
              "name": "keyword.other.extern.cplusplus.begin.d"
            }
          },
          "end": "\\)",
          "endCaptures": {
            "0": {
              "name": "keyword.other.extern.cplusplus.end.d"
            }
          },
          "patterns": [
            {
              "include": "#identifier"
            },
            {
              "include": "#comma"
            }
          ]
        },
        {
          "begin": "extern\\s*\\(",
          "beginCaptures": {
            "0": {
              "name": "keyword.other.extern.begin.d"
            }
          },
          "end": "\\)",
          "endCaptures": {
            "0": {
              "name": "keyword.other.extern.end.d"
            }
          },
          "patterns": [
            {
              "include": "#linkage-type"
            }
          ]
        }
      ]
    },
    "linkage-type": {
      "patterns": [
        {
          "match": "C|C\\+\\+|D|Windows|Pascal|System",
          "name": "storage.modifier.linkage-type.d"
        }
      ]
    },
    "align-attribute": {
      "patterns": [
        {
          "begin": "align\\s*\\(",
          "end": "\\)",
          "name": "storage.modifier.align-attribute.d",
          "patterns": [
            {
              "include": "#integer-literal"
            }
          ]
        },
        {
          "match": "align\\s*[^\\(]",
          "name": "storage.modifier.align-attribute.d"
        }
      ]
    },
    "protection-attribute": {
      "patterns": [
        {
          "match": "private|package|protected|public|export",
          "name": "keyword.other.protections.d"
        }
      ]
    },
    "property": {
      "patterns": [
        {
          "match": "@(property|safe|trusted|system|disable|nogc)",
          "name": "entity.name.tag.property.d"
        },
        {
          "include": "#user-defined-attribute"
        }
      ]
    },
    "user-defined-attribute": {
      "patterns": [
        {
          "match": "@([_\\w][_\\d\\w]*)",
          "name": "entity.name.tag.user-defined-property.d"
        },
        {
          "begin": "@([_\\w][_\\d\\w]*)\\(",
          "end": "\\)",
          "name": "entity.name.tag.user-defined-property.d",
          "patterns": [
            {
              "include": "#expression"
            }
          ]
        }
      ]
    },
    "pragma": {
      "patterns": [
        {
          "match": "pragma\\s*\\(\\s*[_\\w][_\\d\\w]*\\s*\\)",
          "name": "keyword.other.pragma.d"
        },
        {
          "begin": "pragma\\s*\\(\\s*[_\\w][_\\d\\w]*\\s*,",
          "end": "\\)",
          "name": "keyword.other.pragma.d",
          "patterns": [
            {
              "include": "#expression"
            }
          ]
        },
        {
          "match": "^#!.+",
          "name": "gfm.markup.header.preprocessor.script-tag.d"
        }
      ]
    },
    "conditional-declaration": {
      "patterns": [
        {
          "include": "#condition"
        },
        {
          "include": "#declaration-block"
        },
        {
          "match": "else",
          "name": "keyword.control.else.d"
        },
        {
          "include": "#colon"
        },
        {
          "include": "#decl-defs"
        }
      ]
    },
    "conditional-statement": {
      "patterns": [
        {
          "include": "#condition"
        },
        {
          "include": "#no-scope-non-empty-statement"
        },
        {
          "match": "else",
          "name": "keyword.control.else.d"
        }
      ]
    },
    "condition": {
      "patterns": [
        {
          "include": "#version-condition"
        },
        {
          "include": "#debug-condition"
        },
        {
          "include": "#static-if-condition"
        }
      ]
    },
    "version-condition": {
      "patterns": [
        {
          "match": "version\\s*\\(\\s*unittest\\s*\\)",
          "name": "keyword.other.version.unittest.d"
        },
        {
          "match": "version\\s*\\(\\s*assert\\s*\\)",
          "name": "keyword.other.version.assert.d"
        },
        {
          "begin": "version\\s*\\(",
          "beginCaptures": {
            "0": {
              "name": "keyword.other.version.identifier.begin.d"
            }
          },
          "end": "\\)",
          "endCaptures": {
            "0": {
              "name": "keyword.other.version.identifer.end.d"
            }
          },
          "patterns": [
            {
              "include": "#integer-literal"
            },
            {
              "include": "#identifier"
            }
          ]
        },
        {
          "include": "#version-specification"
        }
      ]
    },
    "debug-condition": {
      "patterns": [
        {
          "begin": "debug\\s*\\(",
          "beginCaptures": {
            "0": {
              "name": "keyword.other.debug.identifier.begin.d"
            }
          },
          "end": "\\)",
          "endCaptures": {
            "0": {
              "name": "keyword.other.debug.identifier.end.d"
            }
          },
          "patterns": [
            {
              "include": "#integer-literal"
            },
            {
              "include": "#identifier"
            }
          ]
        },
        {
          "match": "debug\\s*[^\\(\\s)]",
          "name": "keyword.other.debug.plain.d"
        }
      ]
    },
    "version-specification": {
      "patterns": [
        {
          "match": "version\\s*=",
          "name": "keyword.other.version-specification.d"
        }
      ]
    },
    "debug-specification": {
      "patterns": [
        {
          "match": "debug\\s*=",
          "name": "keyword.other.debug-specification.d"
        }
      ]
    },
    "static-if-condition": {
      "patterns": [
        {
          "begin": "static\\s+if\\s*\\(",
          "beginCaptures": {
            "0": {
              "name": "keyword.other.static-if.begin.d"
            }
          },
          "end": "\\)",
          "endCaptures": {
            "0": {
              "name": "keyword.other.static-if.end.d"
            }
          },
          "patterns": [
            {
              "include": "#expression"
            }
          ]
        }
      ]
    },
    "static-assert": {
      "patterns": [
        {
          "begin": "static\\s+assert\\s*\\(",
          "beginCaptures": {
            "0": {
              "name": "keyword.other.static-assert.begin.d"
            }
          },
          "end": "\\)",
          "endCaptures": {
            "0": {
              "name": "keyword.other.static-assert.end.d"
            }
          },
          "patterns": [
            {
              "include": "#expression"
            }
          ]
        }
      ]
    },
    "module": {
      "packages": [
        {
          "import": "#module-declaration"
        }
      ]
    },
    "module-declaration": {
      "patterns": [
        {
          "match": "(module)\\s+(.+)(?=;)",
          "captures": {
            "1": {
              "name": "keyword.package.module.d"
            },
            "2": {
              "name": "variable.parameter.module.d"
            }
          }
        }
      ]
    },
    "import-declaration": {
      "patterns": [
        {
          "match": "(static\\s+)?(import)\\s+(.+)(?=;)",
          "captures": {
            "1": {
              "name": "keyword.package.import.d"
            },
            "2": {
              "name": "keyword.package.import.d"
            },
            "3": {
              "name": "variable.parameter.import.d"
            }
          }
        }
      ]
    },
    "mixin-declaration": {
      "patterns": [
        {
          "begin": "(mixin|eval)\\s*\\(",
          "end": "\\)",
          "beginCaptures": {
            "0": {
              "name": "keyword.mixin.begin.d"
            }
          },
          "endCaptures": {
            "0": {
              "name": "keyword.mixin.end.d"
            }
          },
          "patterns": [
            {
              "include": "#expression"
            }
          ]
        }
      ]
    },
    "comma": {
      "patterns": [
        {
          "match": ",",
          "name": "keyword.operator.comma.d"
        }
      ]
    },
    "colon": {
      "patterns": [
        {
          "match": ":",
          "name": "support.type.colon.d"
        }
      ]
    },
    "equal": {
      "patterns": [
        {
          "match": "=",
          "name": "keyword.operator.equal.d"
        }
      ]
    },
    "semi-colon": {
      "patterns": [
        {
          "match": ";\\s*$",
          "name": "meta.statement.end.d"
        },
        {
          "match": ";",
          "name": "keyword.operator.semi-colon.d"
        }
      ]
    },
    "lexical": {
      "patterns": [
        {
          "include": "#string-literal"
        },
        {
          "include": "#character-literal"
        },
        {
          "include": "#float-literal"
        },
        {
          "include": "#integer-literal"
        },
        {
          "include": "#special-tokens"
        },
        {
          "include": "#special-token-sequence"
        },
        {
          "include": "#class-identifier"
        },
        {
          "include": "#identifier"
        }
      ]
    },
    "integer-literal": {
      "patterns": [
        {
          "include": "#decimal-integer"
        },
        {
          "include": "#binary-integer"
        },
        {
          "include": "#hexadecimal-integer"
        }
      ]
    },
    "decimal-integer": {
      "patterns": [
        {
          "match": "(0(?=[^\\dxXbB]))|([1-9][0-9_]*)(Lu|LU|uL|UL|L|u|U)?",
          "name": "constant.numeric.integer.decimal.d"
        }
      ]
    },
    "binary-integer": {
      "patterns": [
        {
          "match": "(0b|0B)[0-1_]+(Lu|LU|uL|UL|L|u|U)?",
          "name": "constant.numeric.integer.binary.d"
        }
      ]
    },
    "hexadecimal-integer": {
      "patterns": [
        {
          "match": "(0x|0X)([0-9a-fA-F][0-9a-fA-F_]*)(Lu|LU|uL|UL|L|u|U)?",
          "name": "constant.numeric.integer.hexadecimal.d"
        }
      ]
    },
    "float-literal": {
      "patterns": [
        {
          "include": "#decimal-float"
        },
        {
          "include": "#hexadecimal-float"
        }
      ]
    },
    "decimal-float": {
      "patterns": [
        {
          "match": "((\\.[0-9])|(0\\.)|(([1-9]|(0[1-9_]))[0-9_]*\\.))[0-9_]*((e-|E-|e\\+|E\\+|e|E)[0-9][0-9_]*)?[LfF]?i?",
          "name": "constant.numeric.float.decimal.d"
        }
      ]
    },
    "hexadecimal-float": {
      "patterns": [
        {
          "match": "0[xX][0-9a-fA-F_]*(\\.[0-9a-fA-F_]*)?(p-|P-|p\\+|P\\+|p|P)[0-9][0-9_]*[LfF]?i?",
          "name": "constant.numeric.fload.hexadecimal.d"
        }
      ]
    },
    "string-literal": {
      "patterns": [
        {
          "include": "#wysiwyg-string"
        },
        {
          "include": "#alternate-wysiwyg-string"
        },
        {
          "include": "#hex-string"
        },
        {
          "include": "#delimited-string"
        },
        {
          "include": "#double-quoted-string"
        },
        {
          "include": "#token-string"
        }
      ]
    },
    "wysiwyg-string": {
      "patterns": [
        {
          "begin": "r\\\"",
          "end": "\\\"[cwd]?",
          "name": "string.wysiwyg-string.d",
          "patterns": [
            {
              "include": "#wysiwyg-chars"
            }
          ]
        }
      ]
    },
    "alternate-wysiwyg-string": {
      "patterns": [
        {
          "begin": "`",
          "end": "`[cwd]?",
          "name": "string.alternate-wysiwyg-string.d",
          "patterns": [
            {
              "include": "#wysiwyg-characters"
            }
          ]
        }
      ]
    },
    "double-quoted-string": {
      "patterns": [
        {
          "begin": "\"",
          "end": "\"[cwd]?",
          "name": "string.double-quoted-string.d",
          "patterns": [
            {
              "include": "#double-quoted-characters"
            }
          ]
        }
      ]
    },
    "hex-string": {
      "patterns": [
        {
          "begin": "x\"",
          "end": "\"[cwd]?",
          "name": "string.hex-string.d",
          "patterns": [
            {
              "match": "[a-fA-F0-9_s]+",
              "name": "constant.character.hex-string.d"
            }
          ]
        }
      ]
    },
    "delimited-string": {
      "begin": "q\"",
      "end": "\"",
      "name": "string.delimited.d",
      "patterns": [
        {
          "include": "#delimited-string-bracket"
        },
        {
          "include": "#delimited-string-parens"
        },
        {
          "include": "#delimited-string-angle-brackets"
        },
        {
          "include": "#delimited-string-braces"
        },
        {
          "include": "#delimited-string-arbitrary"
        }
      ]
    },
    "token-string": {
      "begin": "q\\{",
      "end": "\\}",
      "name": "string.token.d",
      "patterns": [
        {
          "include": "#tokens"
        }
      ]
    },
    "delimited-string-arbitrary": {
      "patterns": [
        {
          "match": "(.)([\\w\\s\\n]*?)(\\1)",
          "captures": {
            "1": {
              "name": "constant.character.delimiter.d"
            },
            "2": {
              "name": "string.delimited.d"
            },
            "3": {
              "name": "constant.character.delimiter.d"
            }
          }
        }
      ]
    },
    "delimited-string-bracket": {
      "patterns": [
        {
          "begin": "\\[",
          "end": "\\]",
          "name": "constant.characters.delimited.brackets.d",
          "patterns": [
            {
              "include": "#wysiwyg-characters"
            }
          ]
        }
      ]
    },
    "delimited-string-parens": {
      "patterns": [
        {
          "begin": "\\(",
          "end": "\\)",
          "name": "constant.character.delimited.parens.d",
          "patterns": [
            {
              "include": "#wysiwyg-characters"
            }
          ]
        }
      ]
    },
    "delimited-string-angle-brackets": {
      "patterns": [
        {
          "begin": "<",
          "end": ">",
          "name": "constant.character.angle-brackets.d",
          "patterns": [
            {
              "include": "#wysiwyg-characters"
            }
          ]
        }
      ]
    },
    "delimited-string-braces": {
      "patterns": [
        {
          "begin": "\\{",
          "end": "\\}",
          "name": "constant.character.delimited.braces.d",
          "patterns": [
            {
              "include": "#wysiwyg-characters"
            }
          ]
        }
      ]
    },
    "wysiwyg-characters": {
      "patterns": [
        {
          "include": "#character"
        },
        {
          "include": "#end-of-line"
        }
      ]
    },
    "double-quoted-characters": {
      "patterns": [
        {
          "include": "#character"
        },
        {
          "include": "#end-of-line"
        },
        {
          "include": "#escape-sequence"
        }
      ]
    },
    "escape-sequence": {
      "patterns": [
        {
          "match": "(\\\\(?:quot|amp|lt|gt|OElig|oelig|Scaron|scaron|Yuml|circ|tilde|ensp|emsp|thinsp|zwnj|zwj|lrm|rlm|ndash|mdash|lsquo|rsquo|sbquo|ldquo|rdquo|bdquo|dagger|Dagger|permil|lsaquo|rsaquo|euro|nbsp|iexcl|cent|pound|curren|yen|brvbar|sect|uml|copy|ordf|laquo|not|shy|reg|macr|deg|plusmn|sup2|sup3|acute|micro|para|middot|cedil|sup1|ordm|raquo|frac14|frac12|frac34|iquest|Agrave|Aacute|Acirc|Atilde|Auml|Aring|Aelig|Ccedil|egrave|eacute|ecirc|iuml|eth|ntilde|ograve|oacute|ocirc|otilde|ouml|divide|oslash|ugrave|uacute|ucirc|uuml|yacute|thorn|yuml|fnof|Alpha|Beta|Gamma|Delta|Epsilon|Zeta|Eta|Theta|Iota|Kappa|Lambda|Mu|Nu|Xi|Omicron|Pi|Rho|Sigma|Tau|Upsilon|Phi|Chi|Psi|Omega|alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigmaf|sigma|tau|upsilon|phi|chi|psi|omega|thetasym|upsih|piv|bull|hellip|prime|Prime|oline|frasl|weierp|image|real|trade|alefsym|larr|uarr|rarr|darr|harr|crarr|lArr|uArr|rArr|dArr|hArr|forall|part|exist|empty|nabla|isin|notin|ni|prod|sum|minux|lowast|radic|prop|infin|ang|and|or|cap|cup|int|there4|sim|cong|asymp|ne|equiv|le|ge|sub|sup|nsub|sube|supe|oplus|otimes|perp|sdot|lceil|rceil|lfloor|rfloor|loz|spades|clubs|hearts|diams|lang|rang))",
          "name": "constant.character.escape-sequence.entity.d"
        },
        {
          "match": "(\\\\x[0-9a-fA-F_]{2}|\\\\u[0-9a-fA-F_]{4}|\\\\U[0-9a-fA-F_]{8}|\\\\[0-7]{1,3})",
          "name": "constant.character.escape-sequence.number.d"
        },
        {
          "match": "(\\\\t|\\\\'|\\\\\"|\\\\\\?|\\\\0|\\\\a|\\\\b|\\\\f|\\\\n|\\\\r|\\\\v|\\\\\\\\)",
          "name": "constant.character.escape-sequence.d"
        }
      ]
    },
    "character-literal": {
      "patterns": [
        {
          "match": "'(?:(.)|(?:(?=\\\\)(.+)))'",
          "name": "string.character-literal.d",
          "captures": {
            "1": {
              "patterns": [
                {
                  "include": "#character"
                }
              ]
            },
            "2": {
              "patterns": [
                {
                  "include": "#escape-sequence"
                }
              ]
            }
          }
        }
      ]
    },
    "character": {
      "patterns": [
        {
          "match": "[\\w\\s]",
          "name": "string.character.d"
        }
      ]
    },
    "end-of-line": {
      "patterns": [
        {
          "match": "\\n",
          "name": "string.character.end-of-line.d"
        }
      ]
    },
    "identifier-list": {
      "patterns": [
        {
          "match": ",",
          "name": "keyword.other.comma.d"
        },
        {
          "include": "#identifier"
        }
      ]
    },
    "class-identifier": {
      "patterns": [
        {
          "match": "(\\.?[A-Z][_\\d\\w]*)+\\s*(?!\\()",
          "name": "entity.name.instance.d"
        }
      ]
    },
    "identifier": {
      "patterns": [
        {
          "match": "(\\.?[_\\w][_\\d\\w]*)+",
          "name": "variable.d"
        }
      ]
    },
    "comment": {
      "patterns": [
        {
          "include": "#block-comment"
        },
        {
          "include": "#line-comment"
        },
        {
          "include": "#nesting-block-comment"
        }
      ]
    },
    "block-comment": {
      "patterns": [
        {
          "begin": "/\\*",
          "end": "\\*/",
          "name": "comment.block.d"
        }
      ]
    },
    "line-comment": {
      "patterns": [
        {
          "match": "//.+$",
          "name": "comment.line.d"
        }
      ]
    },
    "nesting-block-comment": {
      "patterns": [
        {
          "begin": "/\\+",
          "end": "\\+/",
          "name": "comment.block.documentation.d"
        }
      ]
    },
    "tokens": {
      "patterns": [
        {
          "include": "#string-literal"
        },
        {
          "include": "#character-literal"
        },
        {
          "include": "#integer-literal"
        },
        {
          "include": "#float-literal"
        },
        {
          "include": "#keyword"
        },
        {
          "match": "/|/=|\\.|\\.\\.|\\.\\.\\.|&|&=|&&|\\||\\|=|\\|\\||-|-=|--|\\+|\\+=|\\+\\+|<|<=|<<|<>|>|>=|>>=|>>|>>>|\\!|\\!=|\\!<>|\\!<>=|\\!<|\\!<=|\\!>|\\!>=|\\(|\\)|\\[|\\]|\\{|\\}|\\?|,|;|:|$|=|==|\\*|\\*=|%|%=|\\^|\\^=|\\^\\^|\\^\\^=|~|~=|@|=>|#",
          "name": "meta.lexical.token.symbolic.d"
        },
        {
          "include": "#identifier"
        }
      ]
    },
    "keyword": {
      "patterns": [
        {
          "match": "abstract|alias|align|asm|assert|auto|body|bool|break|byte|case|cast|catch|cdouble|cent|cfloat|char|class|const|continue|creal|dchar|debug|default|delegate|delete|deprecated|do|double|else|enum|export|extern|false|final|finally|float|for|foreach|foreach_reverse|function|goto|idouble|if|ifloat|immutable|import|in|inout|int|interface|invariant|ireal|is|lazy|long|macro|mixin|module|new|nothrow|null|out|override|package|pragma|macro|private|protected|public|pure|real|ref|return|scope|shared|short|static|struct|super|switch|synchronized|template|this|throw|true|try|typedef|typeid|typeof|ubyte|ucent|uint|ulong|union|unittest|ushort|version|void|volatile|wchar|while|with|__FILE__|__MODULE__|__LINE__|__FUNCTION__|__PRETTY_FUNCTION__|__gshared|__traits|__vector|__parameters",
          "name": "keyword.token.d"
        }
      ]
    },
    "special-token-sequence": {
      "patterns": [
        {
          "match": "#\\s*line\\s+.+",
          "name": "gfm.markup.italic.special-token-sequence.d"
        }
      ]
    },
    "special-tokens": {
      "patterns": [
        {
          "match": "__DATE__|__EOF__|__TIME__|__TIMESTAMP__|__VENDOR__|__VERSION__",
          "name": "gfm.markup.raw.special-tokens.d"
        }
      ]
    }
  }
}